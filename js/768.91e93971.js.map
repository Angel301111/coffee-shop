{"version":3,"file":"js/768.91e93971.js","mappings":"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","sources":["webpack://hello-world/./src/views/Front/UserCheckout.vue","webpack://hello-world/./src/views/Front/UserCheckout.vue?6475"],"sourcesContent":["<template>\n  <LoadingOverlay :active=\"isLoading\" :loader=\"'dots'\" />\n  <header class=\"p-5 text-center bg cart-header-background\">\n    <h1 class=\"display-1 fw-bold text-light\">Order</h1>\n  </header>\n  <div class=\"row justify-content-center\">\n    <h2 class=\"text-center my-4 h3\">─ 結帳流程 ─</h2>\n    <form class=\"col-md-6\" @submit.prevent=\"payOrder\">\n      <div class=\"progress mb-4\" style=\"height: 30px;\">\n          <div\n            class=\"progress-bar bg-secondary\"\n            role=\"progressbar\"\n            style=\"width: 75%\"\n            aria-valuenow=\"75\"\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n          >\n            確認訂購資訊\n          </div>\n        </div>\n      <h3 class=\"mt-5\">訂購明細</h3>\n      <table class=\"table mt-3\">\n        <thead>\n          <th class=\"th-layout\">品名</th>\n          <th class=\"th-layout text-end\">數量</th>\n          <th class=\"th-layout text-end\">單價</th>\n        </thead>\n        <tbody>\n          <tr v-for=\"item in order.products\" :key=\"item.id\">\n            <td>{{ item.product.title }}</td>\n            <td class=\"text-end\">{{ item.qty }}</td>\n            <td class=\"text-end\">{{ $filters.currency(item.final_total) }}</td>\n          </tr>\n        </tbody>\n        <tfoot>\n          <tr>\n            <td colspan=\"2\" class=\"text-start\">總計</td>\n            <td class=\"text-end\">{{ $filters.currency(order.total) }}</td>\n          </tr>\n        </tfoot>\n      </table>\n\n      <h3 class=\"mt-5\">訂購人資料</h3>\n      <table class=\"table mt-3 mb-0\">\n        <tbody>\n          <tr>\n            <th>姓名</th>\n            <td>{{ order.user.name }}</td>\n          </tr>\n          <tr>\n            <th>收件人電話</th>\n            <td>{{ order.user.tel }}</td>\n          </tr>\n          <tr>\n            <th>Email</th>\n            <td>{{ order.user.email }}</td>\n          </tr>\n          <tr>\n            <th>收件人地址</th>\n            <td>{{ order.user.address }}</td>\n          </tr>\n          <tr>\n            <th>付款狀態</th>\n            <td>\n              <span v-if=\"!order.is_paid\">尚未付款</span>\n              <span v-else class=\"text-success\">付款完成</span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"text-end\" v-if=\"order.is_paid === false\">\n        <button class=\"btn btn-danger my-4\" type=\"submit\">確認付款</button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      order: {\n        user: {}\n      },\n      orderId: '',\n      isLoading: false\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    getOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`\n      this.isLoading = true\n      this.$http.get(url).then((res) => {\n        this.order = res.data.order\n        this.isLoading = false\n      }).catch((err) => {\n        this.isLoading = false\n        this.emitter.emit('push-message', {\n          style: 'danger',\n          title: `載入失敗, ${err.message}`\n        })\n      })\n    },\n    payOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`\n      this.isLoading = true\n      this.$http.post(url).then((res) => {\n        this.isLoading = false\n        this.$httpMessageState(res, '感謝您的支持！付款')\n        this.getOrder()\n        this.$router.push('/user/orderdone')\n      }).catch((err) => {\n        this.isLoading = false\n        this.emitter.emit('push-message', {\n          style: 'danger',\n          title: `付款失敗, ${err.message}`\n        })\n      })\n    }\n  },\n  created() {\n    this.orderId = this.$route.params.orderId\n    this.getOrder()\n  }\n}\n</script>\n","import { render } from \"./UserCheckout.vue?vue&type=template&id=680c9484\"\nimport script from \"./UserCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","style","role","colspan","key","type","_hoisted_22","_createElementBlock","_Fragment","_createVNode","_component_LoadingOverlay","active","$data","isLoading","loader","_hoisted_1","_hoisted_2","_hoisted_3","onSubmit","_cache","_withModifiers","args","$options","payOrder","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_renderList","order","products","item","id","_toDisplayString","product","title","_hoisted_8","qty","_hoisted_9","_ctx","$filters","currency","final_total","_hoisted_10","_hoisted_11","total","_hoisted_12","_hoisted_13","_hoisted_14","user","name","_hoisted_15","tel","_hoisted_16","email","_hoisted_17","address","_hoisted_18","is_paid","_hoisted_20","_hoisted_19","_hoisted_21","_hoisted_23","_createCommentVNode","data","orderId","inject","methods","getOrder","url","this","$http","get","then","res","catch","err","emitter","emit","message","post","$httpMessageState","$router","push","created","$route","params","__exports__","render"],"sourceRoot":""}