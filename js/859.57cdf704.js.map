{"version":3,"file":"js/859.57cdf704.js","mappings":"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","sources":["webpack://hello-world/./src/views/Front/UserFavorite.vue","webpack://hello-world/./src/views/Front/UserFavorite.vue?69e9"],"sourcesContent":["<template>\n  <LoadingOverlay :active=\"isLoading\" :loader=\"'dots'\" />\n  <header class=\"p-5 text-center bg cart-header-background\">\n    <h1 class=\"display-1 fw-bold text-light\">Favorite</h1>\n  </header>\n  <div class=\"container mb-4\">\n    <div v-if=\"favorite == null || favorite.length == 0\">\n      <div class=\"d-flex flex-column align-items-center fs-3 my-5\">\n        <p class=\"\">目前沒有收藏任何商品唷 ( ºωº )</p>\n        <p>快點去逛逛吧！</p>\n        <router-link to=\"/user/productlist\" role=\"button\" class=\"btn btn-dark\">\n          繼續購物\n        </router-link>\n      </div>\n    </div>\n    <div v-else class=\"row\">\n      <div\n        class=\"col-md-6 col-lg-4 g-4\"\n        v-for=\"item in favorite\"\n        :key=\"item.id\"\n      >\n        <router-link\n          class=\"card border-0 shadow card-hover\"\n          :to=\"{ path: `/user/product/${item.id}` }\"\n        >\n          <img\n            :src=\"item.imageUrl\"\n            class=\"card-img-top img-fluid object-fit-cover\"\n            :alt=\"item.title\"\n            style=\"height: 30vh\"\n          />\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">{{ item.title }}</h5>\n            <div class=\"d-flex\">\n              <span class=\"card-text align-self-center\">\n                NT${{ item.price }}\n              </span>\n              <button\n                type=\"button\"\n                class=\"btn btn-light ms-auto\"\n                @click.prevent=\"removeFavorite(item)\"\n              >\n                <i class=\"bi bi-heart-fill\"></i>\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-light ms-2\"\n                @click.prevent=\"addCart(item.id)\"\n              >\n                <i class=\"bi bi-cart3\"></i>\n              </button>\n            </div>\n          </div>\n          <div class=\"card-footer border-0\">\n            <button type=\"button\" class=\"btn btn-secondary w-100\">\n              查看更多\n            </button>\n          </div>\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      favorite: JSON.parse(localStorage.getItem('favorite')) || [],\n      favoriteID: JSON.parse(localStorage.getItem('favoriteID')) || [],\n      isLoading: false\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    addCart(id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      this.isLoading = true\n      const cart = {\n        data: {\n          product_id: id,\n          qty: 1\n        }\n      }\n      this.$http\n        .post(url, cart)\n        .then((res) => {\n          this.isLoading = false\n          this.emitter.emit('update-cart')\n          this.$httpMessageState(\n            res,\n            `${res.data.data.product.title}加入購物車`\n          )\n        })\n        .catch((err) => {\n          this.isLoading = false\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: `加入購物車失敗, ${err.message}`\n          })\n        })\n    },\n    removeFavorite(item) {\n      const isSave = this.favoriteID.indexOf(item.id)\n      this.favorite.splice(isSave, 1)\n      this.favoriteID.splice(isSave, 1)\n      this.emitter.emit('push-message', {\n        style: 'danger',\n        title: `已將${item.title}移除收藏`\n      })\n      localStorage.setItem('favorite', JSON.stringify(this.favorite))\n      localStorage.setItem('favoriteID', JSON.stringify(this.favoriteID))\n      this.emitter.emit('update-favorite')\n    }\n  }\n}\n</script>\n","import { render } from \"./UserFavorite.vue?vue&type=template&id=2c394b6d\"\nimport script from \"./UserFavorite.vue?vue&type=script&lang=js\"\nexport * from \"./UserFavorite.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","key","_hoisted_14","_hoisted_17","type","_createElementBlock","_Fragment","_createVNode","_component_LoadingOverlay","active","$data","isLoading","loader","_hoisted_1","_hoisted_2","favorite","length","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_router_link","to","role","default","_withCtx","_createTextVNode","_","_hoisted_7","_renderList","item","id","path","src","imageUrl","alt","title","style","_hoisted_8","_hoisted_9","_hoisted_10","_toDisplayString","_hoisted_11","_hoisted_12","price","onClick","_withModifiers","$event","$options","removeFavorite","_hoisted_15","_hoisted_13","addCart","_hoisted_18","_hoisted_16","_hoisted_19","data","JSON","parse","localStorage","getItem","favoriteID","inject","methods","url","this","cart","product_id","qty","$http","post","then","res","emitter","emit","$httpMessageState","product","catch","err","message","isSave","indexOf","splice","setItem","stringify","__exports__","render"],"sourceRoot":""}